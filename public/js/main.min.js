var lazyLoadInstance=new LazyLoad({});const containerEl=document.querySelector(".mix-container");var mixer=mixitup(containerEl,{animation:{effects:"fade scale(0.5)"}}),modal=new tingle.modal({footer:!0,stickyFooter:!1,closeMethods:["overlay","button","escape"],closeLabel:"Close",cssClass:["kj_mods","sp_mods"]});modal.addFooterBtn("Close","tingle-btn tingle-btn--primary",(function(){modal.close()}));var modal2=new tingle.modal({footer:!0,stickyFooter:!1,closeMethods:["overlay","button","escape"],closeLabel:"Close",cssClass:["album_win"],beforeClose:function(){return document.querySelector(".tingle-modal--overflow").scrollTo({top:0,behavior:"smooth"}),this.setContent(""),!0}});modal2.addFooterBtn("Close","tingle-btn tingle-btn--primary",(function(){modal2.close()})),new Waypoint({element:document.getElementById("New-Release"),handler:function(){document.getElementById("Page-2").classList.contains("active_page")||(clearNavSelect(),document.querySelector(".latest_nav").classList.add("nav_a_clicked"))}}),new Waypoint({element:document.getElementById("Music"),handler:function(){document.getElementById("Page-2").classList.contains("active_page")||(clearNavSelect(),document.querySelector(".music_nav").classList.add("nav_a_clicked"))},offset:10}),new Waypoint({element:document.getElementById("Radio"),handler:function(){document.getElementById("Page-2").classList.contains("active_page")||(clearNavSelect(),document.querySelector(".radio_nav").classList.add("nav_a_clicked"))},offset:10}),btns=document.getElementsByClassName("nav_a");for(var i=0;i<btns.length;i++)btns[i].addEventListener("click",(function(t){t.preventDefault();setURLtoHREF(t.target.closest("a").getAttribute("href"))}));function setURLtoHREF(t){history.pushState?history.pushState(null,null,t):location.hash=t}function clearNavSelect(){document.querySelector(".nav_a_clicked").classList.remove("nav_a_clicked")}function setCookie(t,e,o){const n=new Date;n.setTime(n.getTime()+24*o*60*60*1e3);let i="expires="+n.toUTCString();document.cookie=t+"="+e+";"+i+";path=/"}function getCookie(t){let e=t+"=",o=document.cookie.split(";");for(let t=0;t<o.length;t++){let n=o[t];for(;" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(e))return n.substring(e.length,n.length)}return""}function showFirstStartCheck(){var t=getCookie("firstrundone"),e=document.querySelector(".h_play_button");""!=t&&null!=t||(pgia.play(e,"PlaylistTip"),disableScroll(),setCookie("firstrundone",!0,30))}function showStart(){window.player1.showPlayer(),window.player1.stop(),showFirstStartCheck(),setTimeout((function(){window.player1.play()}),2e3)}function mixLink(t){getRecordInfo("/public/js/music_db/templates/info.hbs",t)}function recal_scroll(){ScrollTrigger.refresh()}function disableScroll(){document.body.classList.add("stop-scrolling")}function enableScroll(){document.body.classList.remove("stop-scrolling")}function get_contact(){modal.setContent('<iframe src="https://forms.keyjaycompound.com/app/form?id=2lyEsw&b=0" \n            style="border:0px #ffffff none;" \n            name="KJM Contact" scrolling="no" frameborder="1" marginheight="0px" marginwidth="0px" height="600px" width="100%" allowfullscreen>\n            </iframe>'),modal.open()}function get_support(){modal.setContent('<div class="support_modal_wrapper">\n                    <div class="sm_pic_box" style="width: 40%; margin-left: 5px; margin-right: 5px;"><img src="public/img/pc_supp_left.webp" style="width: 100%;"/></div>\n                    <div class="sm_content_box">\n                        <h1>More Key Jay, bigger Productions</h1>\n                        <h3>Support the development of even larger KEY JAY PRODUCTIONS <br/> by:</h3>\n                        <div class="sp_options_wrapper">\n                            <div class="sp_option sp_option_rightb"><p>Directly supporting KEY JAY by becoming a POWER CREW VIP. Your support goes farther this way by avoiding unnecessary platform fees.</p><a class="pcsp_link" href="https://keyjayonline.com/powercrew.html" target="_blank"><img src="public/img/pc_logo_small.png" alt="Join the POWER CREW VIP"/></a></div>\n                            <div class="sp_option"><p>Or by Supporting KEY JAY on these other fine platforms <br/>(One-Time or by Subscription options available)</p>\x3c!--<img src="public/img/patreon-logo.jpg" style="width: 250px;" alt="KEY JAY\'s Patreon"/>--\x3e<a href="https://ko-fi.com/keyjayhd" target="_blank"><img src="public/img/kofi_logo.png" style="width: 289px;" alt="KEY JAY\'s Ko-Fi"/><img src="public/img/pp_logo.png" style="width: 289px;" alt="KEY JAY\'s Pay Pal"/></a>\n                            \n                            </div>\n                        </div>\n                    </div>\n                </div>'),modal.open()}function get_copyright(t){var e="Website design by Jamaal Ephriam.</br>Copyright &copy; Jamaal Ephriam "+t+". All Rights Reserved.";document.querySelector(".copyright").innerHTML=e}var TxtRotate=function(t,e,o){this.toRotate=e,this.el=t,this.loopNum=0,this.period=parseInt(o,40)||4e3,this.txt="",this.tick(),this.isDeleting=!1};TxtRotate.prototype.tick=function(){var t=this.loopNum%this.toRotate.length,e=this.toRotate[t];this.isDeleting?this.txt=e.substring(0,this.txt.length-1):this.txt=e.substring(0,this.txt.length+1),this.el.innerHTML='<span class="wrap">'+this.txt+"</span>";var o=this,n=300-500*Math.random();this.isDeleting&&(n/=2),this.isDeleting||this.txt!==e?this.isDeleting&&""===this.txt&&(this.isDeleting=!1,this.loopNum++,n=500):(n=this.period,this.isDeleting=!0),setTimeout((function(){o.tick()}),n)},window.onload=function(){for(var t=document.getElementsByClassName("txt-rotate"),e=0;e<t.length;e++){var o=t[e].getAttribute("data-rotate"),n=t[e].getAttribute("data-period");o&&new TxtRotate(t[e],JSON.parse(o),n)}var i=document.createElement("style");i.type="text/css",i.innerHTML=".txt-rotate > .wrap { border-right: 0.08em solid #666 }",document.body.appendChild(i),getRecordsList("/public/js/music_db/templates/home.hbs","/public/js/music_db/kjmdb.json","mix-container"),get_copyright(YEAR)};